"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4225],{15687:function(e,t,r){r.d(t,{S:function(){return d}});r(67294);var i=r(45697),n=r.n(i),s=r(37797),l=r(85893);const a=s.default.span.withConfig({displayName:"StatusLabelstyles__StatusLabel",componentId:"sc-1qmyvwo-0"})(["padding:"," 1rem;border-radius:",";display:inline-block;background-color:",";color:",";font-weight:",";font-size:",";","{font-size:",";}"],(e=>{let{theme:t}=e;return t.spacing[2]}),(e=>{let{theme:t}=e;return t.borderRadius}),(e=>{let{theme:t,backgroundColor:r}=e;return r||t.color.lightGray3}),(e=>{let{theme:t,foregroundColor:r}=e;return r||t.color.darkGray2}),(e=>{let{theme:t}=e;return t.font.weight.bold}),(e=>{let{theme:t}=e;return t.font.size.captionMobile}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop}),(e=>{let{theme:t}=e;return t.font.size.captionDesktop})),o=e=>{const{children:t,...r}=e;return(0,l.jsx)(a,{...r,children:t})};o.propTypes={children:n().node.isRequired,className:n().string,backgroundColor:n().string,foregroundColor:n().string};var d=o},44225:function(e,t,r){r.d(t,{UT:function(){return je},tw:function(){return Be},St:function(){return Ne},P0:function(){return ht},Dd:function(){return Ct},WA:function(){return o},QV:function(){return q},Q7:function(){return H},xb:function(){return ne},GV:function(){return ae},Sf:function(){return kt}});var i=r(67294),n=r(37797),s=r(84826);const l=(0,n.default)(s.He).withConfig({displayName:"PageFooterstyles__PageFooterContainer",componentId:"sc-i47b2k-0"})(["margin-bottom:",";"],(e=>{let{theme:t}=e;return t.spacing[40]}));var a=r(85893);var o=function(e){let{children:t}=e;return(0,a.jsx)(l,{children:t})},d=r(16955),c=r(86614),u=r(96770),m=r(8540),p=r(87166),h=r(35201),g=r(11163),y=r(15687),f=r(70290),x=r(35982),v=r(28365);(0,n.default)(y.S).withConfig({displayName:"PurchaseCardstyles__PurchaseLabel",componentId:"sc-ywa6qm-0"})(["margin-bottom:",";"],(e=>{let{theme:t}=e;return t.spacing[4]}));const j=n.default.span.withConfig({displayName:"PurchaseCardstyles__CaretContainer",componentId:"sc-ywa6qm-1"})(["","{display:none;}"],(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),b=n.default.span.withConfig({displayName:"PurchaseCardstyles__ViewDetailsContainer",componentId:"sc-ywa6qm-2"})(["display:none;","{display:inline;}"],(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),w=(0,n.default)(s.He).attrs({as:"section"}).withConfig({displayName:"PurchaseCardstyles__PurchaseCard",componentId:"sc-ywa6qm-3"})(["display:flex;align-items:center;position:relative;"]),P=n.default.div.withConfig({displayName:"PurchaseCardstyles__PurchaseDetails",componentId:"sc-ywa6qm-4"})(["display:flex;flex-direction:column;","{flex:0 0 ",";}"],(e=>{let{theme:t}=e;return t.mediaQuery.desktop}),(e=>{let{theme:t}=e;return t.pxToRem(300)})),_=n.default.div.withConfig({displayName:"PurchaseCardstyles__PurchaseMeta",componentId:"sc-ywa6qm-5"})(["width:100%;"]),C=n.default.div.withConfig({displayName:"PurchaseCardstyles__PurchaseCardBody",componentId:"sc-ywa6qm-6"})(["display:flex;flex:1 1 auto;flex-direction:column;padding:"," 0;","{flex-direction:row;align-items:center;padding:",";}"],(e=>{let{theme:t}=e;return t.spacing[24]}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop}),(e=>{let{theme:t}=e;return t.spacing[24]})),k=n.default.div.withConfig({displayName:"PurchaseCardstyles__MobilePurchaseCardLink",componentId:"sc-ywa6qm-7"})(["&:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;}"]),I=n.default.div.withConfig({displayName:"PurchaseCardstyles__PurchaseCardLink",componentId:"sc-ywa6qm-8"})(["color:",";flex-shrink:0;","{padding-right:",";}"],(e=>{let{theme:t}=e;return t.color.primary}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop}),(e=>{let{theme:t}=e;return t.spacing[24]})),N=(0,n.default)(f.H).attrs({large:!0,variant:"h2"}).withConfig({displayName:"PurchaseCardstyles__PurchaseDate",componentId:"sc-ywa6qm-9"})(["margin-top:0;margin-bottom:",";"],(e=>{let{theme:t}=e;return t.spacing[4]})),O=(0,n.default)(x.T).attrs({variant:"body"}).withConfig({displayName:"PurchaseCardstyles__PurchaseDescription",componentId:"sc-ywa6qm-10"})(["margin-top:0;margin-bottom:",";"],(e=>{let{theme:t}=e;return t.spacing[4]})),T=(0,n.default)(v.P).attrs((e=>({regPrice:e.regPrice}))).withConfig({displayName:"PurchaseCardstyles__PurchaseAmount",componentId:"sc-ywa6qm-11"})(["font-size:16px;"]);var q=e=>{var t,r;let{purchase:i}=e;const n=(0,m.i1)(),{text:s}=n,l=(0,g.useRouter)(),o=new Date(i.date).toLocaleString(l.locale,{month:"long",day:"2-digit",year:"numeric"}),y=(0,p.T4)(i.amount,i.currency,n);let f=(0,a.jsx)(H,{status:i.status}),x=(0,a.jsxs)(O,{children:[s("Ship to:")," ",null===(t=i.shipping)||void 0===t?void 0:t.firstName," ",null===(r=i.shipping)||void 0===r?void 0:r.lastName]});return"digital"===i.type&&(f=null,x=(0,a.jsx)(O,{children:s(i.platform||"")})),(0,a.jsxs)(w,{children:[(0,a.jsxs)(C,{children:[(0,a.jsxs)(P,{children:[(0,a.jsx)(N,{children:o}),(0,a.jsx)(T,{regPrice:`${y}`}),(0,a.jsxs)(O,{children:[s("Purchase type:")," ",s((0,p.zf)(i.type))]}),x,s("Order Number:")," ",i.id]}),(0,a.jsxs)(_,{children:[f,(0,a.jsx)(ne,{purchase:i})]})]}),(0,a.jsxs)(I,{children:[(0,a.jsxs)(j,{children:[(0,a.jsx)(h.Z,{href:`/orders/${i.id}`,children:(0,a.jsx)(k,{})}),(0,a.jsx)(d.Z,{})]}),(0,a.jsx)(b,{children:(0,a.jsx)(c.D,{href:`/orders/${i.id}`,icon:u.Z,locale:l.locale,children:s("View details")})})]})]})};const S="Processing",D="Pending",L="Complete",Q="Shipped",A="Canceled",F={[S]:{text:"#3946A0",bg:"#BDC3E8"},[D]:{text:"#009582",bg:"#C1E2E1"},[L]:{text:"#484848",bg:"#EFEFEF"},[Q]:{text:"#E62C8B",bg:"#FCE0EE"},[A]:{text:"#E60012",bg:"#FDE6E7"}},$={acknowledged:S,processing:S,received:S,"data error":S,error:S,"on hold":S,backordered:S,booked:S,test:S,"order create error":S,"order update error":S,"cancel payment error":S,picked:Q,complete:L,closed:L,"rma error":L,canceled:A,cancelled:A,"canceled payment":A,pending:D};var H=e=>{const{status:t}=e,r=$[t.toLowerCase()]||S,{textColor:i,bgColor:n}=F[r],{text:s}=(0,m.i1)();return(0,a.jsx)(y.S,{role:"status",backgroundColor:n,foregroundColor:i,children:s((0,p.zf)(r))})},B=r(59499);const E=n.default.div.withConfig({displayName:"PurchasePreviewstyles__PurchasePreviewContainer",componentId:"sc-1mvqi19-0"})(["display:flex;gap:",";align-items:center;margin-top:",";flex:1 0 auto;"],(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.spacing[16]})),z=n.default.span.withConfig({displayName:"PurchasePreviewstyles__OverflowTileDesktopContainer",componentId:"sc-1mvqi19-1"})(["display:none;","{display:inline;}"],(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),Z=n.default.span.withConfig({displayName:"PurchasePreviewstyles__OverflowTileMobileContainer",componentId:"sc-1mvqi19-2"})(["","{display:none;}"],(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),G=(0,n.default)(E).withConfig({displayName:"PurchasePreviewstyles__DigitalPurchasePreviewContainer",componentId:"sc-1mvqi19-3"})(["align-items:flex-start;"]),R=n.default.div.withConfig({displayName:"PurchasePreviewstyles__ThirdPurchaseTile",componentId:"sc-1mvqi19-4"})(["display:none;","{display:flex;}"],(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),M=n.default.div.withConfig({displayName:"PurchasePreviewstyles__PurchaseTilePlus",componentId:"sc-1mvqi19-5"})(["font-weight:bold;display:block;"]),W=n.default.div.withConfig({displayName:"PurchasePreviewstyles__DigitalImage",componentId:"sc-1mvqi19-6"})(["overflow:hidden;flex-shrink:0;"]),Y=(0,n.default)(x.T).attrs({variant:"title"}).withConfig({displayName:"PurchasePreviewstyles__PurchaseTitle",componentId:"sc-1mvqi19-7"})(["margin-top:0;text-overflow:ellipsis;overflow:hidden;"]);var V=r(72516);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const K=e=>{const{amount:t}=e;return(0,a.jsx)(z,{children:(0,a.jsxs)(M,{children:["+",t]})})},X=e=>{const{amount:t}=e;return(0,a.jsx)(Z,{children:(0,a.jsxs)(M,{children:["+",t]})})},ee=3,te=2,re=e=>{const{items:t}=e,r=t.slice(0,te),[n]=t.slice(te,te+1);return(0,a.jsxs)(E,{children:[r.map((e=>(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(s.qN,{alt:e.name,assetPath:e.image||V.BY}),1===t.length&&(0,a.jsx)(Y,{children:e.name})]},`item-${e.sku}`))),t.length>ee?(0,a.jsx)(R,{children:(0,a.jsx)(s.qN,{alt:n.name,assetPath:n.image||V.BY})},n.sku):null,t.length>ee?(0,a.jsx)(K,{amount:t.length-ee}):null,t.length>te?(0,a.jsx)(X,{amount:t.length-te}):null]})},ie=e=>{let{image:t,name:r}=e;return(0,a.jsxs)(G,{children:[(0,a.jsx)(W,{children:(0,a.jsx)(s.qN,{alt:"Product art",assetPath:t||V.BY})}),(0,a.jsx)(Y,{children:r})]})};var ne=e=>{let{purchase:t}=e;return"physical"===t.type?(0,a.jsx)(re,J({},t)):(0,a.jsx)(ie,J({},t))},se=r(12936);const le=(0,n.default)(se.S).withConfig({displayName:"PurchasesSkeletonstyles__PurchaseRowSkeleton",componentId:"sc-w7pmx6-0"})(["> div{height:175px;margin-bottom:50px;}"]);var ae=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h8,{}),(0,a.jsxs)(s.$0,{constrained:!0,children:[(0,a.jsx)(le,{}),(0,a.jsx)(le,{}),(0,a.jsx)(le,{})]})]}),oe=r(68636),de=r(52204),ce=r(76468);n.default.div.withConfig({displayName:"LoggedInPurchasesstyles__LoggedInPurchasesContainer",componentId:"sc-gv7ffb-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:",";"],(e=>{let{theme:t}=e;return t.spacing[64]})),(0,n.default)(x.T).attrs({variant:"title"}).withConfig({displayName:"LoggedInPurchasesstyles__AddSomethingFun",componentId:"sc-gv7ffb-1"})(["display:flex;flex-direction:column;margin-top:",";","{display:block;}"],(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop}));const ue=n.default.div.withConfig({displayName:"LoggedInPurchasesstyles__LoadMoreContainer",componentId:"sc-gv7ffb-2"})(["margin-top:",";display:flex;justify-content:center;"],(e=>{let{theme:t}=e;return t.spacing[24]})),me=(0,n.default)(de.B).withConfig({displayName:"LoggedInPurchasesstyles__LoadMoreButton",componentId:"sc-gv7ffb-3"})(["min-width:150px;"]),pe=(0,n.default)(s.He).withConfig({displayName:"LoggedInPurchasesstyles__FilterContainer",componentId:"sc-gv7ffb-4"})(["display:flex;flex-direction:column;","{align-items:flex-end;flex-direction:row;justify-content:space-between;gap:",";}"],(e=>{let{theme:t}=e;return t.mediaQuery.desktop}),(e=>e.theme.spacing[20])),he=(n.default.div.withConfig({displayName:"LoggedInPurchasesstyles__SortGroup",componentId:"sc-gv7ffb-5"})(["","{width:100%;max-width:",";}"],(e=>{let{theme:t}=e;return t.mediaQuery.desktop}),(e=>{let{theme:t}=e;return t.pxToRem(260)})),n.default.div.withConfig({displayName:"LoggedInPurchasesstyles__ButtonGroup",componentId:"sc-gv7ffb-6"})(["display:flex;flex-direction:row;gap:",";align-items:center;"],(e=>{let{theme:t}=e;return t.spacing[16]}))),ge=(0,n.default)(x.T).attrs({variant:"title"}).withConfig({displayName:"LoggedInPurchasesstyles__FilterLabel",componentId:"sc-gv7ffb-7"})(["margin-right:",";margin-bottom:",";","{display:flex;align-items:center;margin-bottom:0;"],(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.spacing[8]}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),ye=n.default.div.withConfig({displayName:"LoggedInPurchasesstyles__FilterGroup",componentId:"sc-gv7ffb-8"})(["margin-bottom:",";","{display:flex;align-items:center;}"],(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),fe=n.default.span.withConfig({displayName:"LoggedInPurchasesstyles__HiddenOnMobile",componentId:"sc-gv7ffb-9"})(["display:none;","{display:inline;}"],(e=>{let{theme:t}=e;return t.mediaQuery.desktop}));var xe=r(46090);function ve(e){if(!e)return[];return e.map((e=>(0,xe.ZP)(e)))}var je=e=>{let{fetchMore:t,refetch:r,purchases:n,loading:l,totals:d}=e;const{text:c}=(0,m.i1)(),u=(0,g.useRouter)(),{0:p,1:y}=(0,i.useState)(ve(n)),{0:f,1:x}=(0,i.useState)(!1),{0:v,1:j}=(0,i.useState)(2),{0:b,1:w}=(0,i.useState)(null),{0:P,1:_}=(0,i.useState)(0),C=(0,i.useCallback)((e=>{w(e),x(!0);r({page:1,where:{type:{eq:e}}}).then((e=>{var t,r,i;const n=ve(null===(t=e.data)||void 0===t||null===(r=t.customer)||void 0===r||null===(i=r.orderHistory)||void 0===i?void 0:i.orders);y(n),j(2),x(!1)}))}),[r]);return(0,i.useEffect)((()=>{null===b?_(d.digital+d.physical):"DIGITAL"===b?_(d.digital):"PHYSICAL"===b&&_(d.physical)}),[d.digital,d.physical,b]),l?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h5,{title:"Purchase history",children:(0,a.jsxs)(oe.B,{currentPage:u.pathname,children:[(0,a.jsx)(h.Z,{href:"/",children:(0,a.jsx)("a",{children:c("Home")})}),(0,a.jsx)(h.Z,{href:"/orders",children:(0,a.jsx)("a",{children:c("Purchase history")})})]})}),p.length||null!==b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(pe,{children:(0,a.jsxs)(ye,{children:[(0,a.jsx)(ge,{children:c("Category:")}),(0,a.jsxs)(he,{children:[(0,a.jsxs)(de.B,{still:!0,size:"small",variant:"quaternary",round:!0,selected:null===b,onClick:()=>C(null),children:[c("Show all")," ",(0,a.jsxs)(fe,{children:["(",d.digital+d.physical,")"]})]}),(0,a.jsxs)(de.B,{still:!0,size:"small",variant:"quaternary",round:!0,selected:"DIGITAL"===b,disabled:0===d.digital,onClick:()=>C("DIGITAL"),children:[c("Digital")," ",(0,a.jsxs)(fe,{children:["(",d.digital,")"]})]}),(0,a.jsxs)(de.B,{still:!0,size:"small",variant:"quaternary",round:!0,selected:"PHYSICAL"===b,disabled:0===d.physical,onClick:()=>C("PHYSICAL"),children:[c("Physical")," ",(0,a.jsxs)(fe,{children:["(",d.physical,")"]})]})]})]})}),p.map((e=>(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(s.He,{children:(0,a.jsx)(s.Hr,{})}),(0,a.jsx)(q,{purchase:e})]},`purchase-${e.id}`))),(0,a.jsxs)(o,{children:[(0,a.jsx)(s.Hr,{}),p.length<P?(0,a.jsx)(ue,{children:(0,a.jsx)(me,{icon:ce.Z,variant:"tertiary",isLoading:f,onClick:()=>(x(!0),void t({variables:{page:v}}).then((e=>{var t,r,i;const n=ve(null===(t=e.data)||void 0===t||null===(r=t.customer)||void 0===r||null===(i=r.orderHistory)||void 0===i?void 0:i.orders);y([...p,...n]),j(v+1),x(!1)}))),children:c("Load more")})}):null]})]}):(0,a.jsx)(Ne,{})]})},be=r(66703),we=r(45697),Pe=r.n(we);const _e=e=>(0,a.jsxs)("svg",{"data-name":"Layer 3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",className:e.className,width:e.size,role:"presentation",alt:"","data-testid":"ShoppingCartOutlineIcon",...e,children:[(0,a.jsx)("path",{d:"M25.315 20.556a1.1 1.1 0 0 0 1-.64l5.444-11.829a1.1 1.1 0 0 0-1-1.56H7.772L7.25 3.411a1.1 1.1 0 0 0-1.085-.918H1.168a1.1 1.1 0 1 0 0 2.2h4.065L7.72 19.53l-.983 4.87a1.1 1.1 0 0 0 1.078 1.318h18.673a1.1 1.1 0 0 0 0-2.2H9.16l.599-2.963zm3.728-11.828l-4.433 9.628H9.754L8.14 8.728z",fill:e.color}),(0,a.jsx)("circle",{cx:9.55,cy:27.917,r:2.271,fill:e.color}),(0,a.jsx)("circle",{cx:24.805,cy:27.917,r:2.271,fill:e.color})]});_e.propTypes={className:Pe().string,color:Pe().string,size:Pe().oneOfType([Pe().number,Pe().string])},_e.defaultProps={color:"currentColor",size:24};const Ce=n.default.div.withConfig({displayName:"NoPurchaseHistorystyles__NoPurchaseHistoryContainer",componentId:"sc-1694xd4-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:",";"],(e=>{let{theme:t}=e;return t.spacing[64]})),ke=(0,n.default)(_e).withConfig({displayName:"NoPurchaseHistorystyles__ShoppingCart",componentId:"sc-1694xd4-1"})(["height:",";width:auto;"],(e=>{let{theme:t}=e;return t.spacing[48]})),Ie=(0,n.default)(x.T).attrs({variant:"title"}).withConfig({displayName:"NoPurchaseHistorystyles__AddSomethingFun",componentId:"sc-1694xd4-2"})(["display:flex;flex-direction:column;margin-top:",";","{display:block;}"],(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop}));var Ne=function(){const{text:e}=(0,m.i1)(),t=(0,g.useRouter)();return(0,a.jsx)(s.$0,{constrained:!0,children:(0,a.jsxs)(Ce,{children:[(0,a.jsx)(ke,{}),(0,a.jsxs)(Ie,{children:[(0,a.jsx)("span",{children:e("No purchase history to show.")}),(0,a.jsxs)("span",{children:[e("Why not add")," ",(0,a.jsx)(be.D,{href:"/store",locale:t.locale,children:e("something fun")}),"?"]})]})]})})},Oe=r(1177),Te=r(48101),qe=r(7692);const Se=n.default.div.withConfig({displayName:"LoggedOutTrackingstyles__Heading",componentId:"sc-84qqid-0"})(["display:flex;flex-direction:column;margin-bottom:",";","{flex-direction:row;justify-content:space-between;align-items:center;}"],(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),De=(0,n.default)(x.T).attrs({variant:"title"}).withConfig({displayName:"LoggedOutTrackingstyles__FormTitle",componentId:"sc-84qqid-1"})(["margin-top:0;"]),Le=(0,n.default)(x.T).attrs({variant:"caption"}).withConfig({displayName:"LoggedOutTrackingstyles__FormMeta",componentId:"sc-84qqid-2"})(["margin:0;font-weight:bold;"]),Qe=n.default.div.withConfig({displayName:"LoggedOutTrackingstyles__FormWrapper",componentId:"sc-84qqid-3"})(["display:grid;grid-template-columns:1fr;column-gap:",";margin-bottom:",";max-width:",";width:100%;","{grid-template-columns:1fr 1fr;}"],(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return t.pxToRem(800)}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),Ae=n.default.div.withConfig({displayName:"LoggedOutTrackingstyles__FullWidthColumn",componentId:"sc-84qqid-4"})(["","{grid-column:1 / 3;}"],(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),Fe=n.default.div.withConfig({displayName:"LoggedOutTrackingstyles__ErrorColumn",componentId:"sc-84qqid-5"})(["margin-bottom:",";","{grid-column:1 / 3;}"],(e=>{let{theme:t}=e;return t.spacing[48]}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop})),$e=(0,n.default)(s.$0).attrs({constrained:!0}).withConfig({displayName:"LoggedOutTrackingstyles__LogInPromptWrapper",componentId:"sc-84qqid-6"})(["margin-top:",";"],(e=>{let{theme:t}=e;return t.spacing[64]})),He=(0,n.default)(x.T).attrs({variant:"title"}).withConfig({displayName:"LoggedOutTrackingstyles__LogInPrompt",componentId:"sc-84qqid-7"})(["margin-bottom:",";"],(e=>{let{theme:t}=e;return t.spacing[16]}));var Be=()=>{const{text:e}=(0,m.i1)(),t=(0,m.xe)(),r=(0,g.useRouter)(),[i,{loading:n,error:l,data:o}]=(0,qe.td)(qe.o$.GuestOrder);if(o&&!l){const e=(0,xe.ZP)(o.guestOrder,r.locale);return(0,a.jsx)(ht,{order:e})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h5,{title:"Track order status",children:(0,a.jsxs)(oe.B,{currentPage:r.pathname,children:[(0,a.jsx)(h.Z,{href:"/",children:(0,a.jsx)("a",{children:e("Home")})}),(0,a.jsx)(h.Z,{href:"/orders",children:(0,a.jsx)("a",{children:e("Track order status")})})]})}),(0,a.jsx)(s.$0,{constrained:!0,children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=e.currentTarget.elements.number,n=e.currentTarget.elements.postcode,s=e.currentTarget.elements.lastname;i({orderNumber:t.value,postcode:n.value,lastname:s.value,locale:r.locale})},children:[(0,a.jsxs)(Qe,{children:[l&&(0,a.jsx)(Fe,{children:(0,a.jsx)(Oe.N,{type:"error",children:e("Sorry, but we could not find that order. Please check your entry and try again.")})}),(0,a.jsx)(Ae,{children:(0,a.jsxs)(Se,{children:[(0,a.jsx)(De,{children:e("Order information")}),(0,a.jsx)(Le,{children:e("* Required fields")})]})}),(0,a.jsx)(Te.I,{placeholder:e("Order number"),label:e("Order number"),name:"number",required:!0}),(0,a.jsx)(Te.I,{placeholder:e("Billing Zip/postal code"),label:e("Billing Zip/postal code"),name:"postcode",required:!0}),(0,a.jsx)(Ae,{children:(0,a.jsx)(Te.I,{placeholder:e("Billing last name"),label:e("Billing last name"),name:"lastname",required:!0})}),o&&!l&&(0,a.jsx)(Fe,{children:(0,a.jsx)(Oe.N,{type:"success",children:e("Order found!")})})]}),(0,a.jsx)(de.B,{isLoading:n,children:e("Continue")})]})}),(0,a.jsxs)($e,{children:[(0,a.jsx)(He,{children:e("Can't find your order number? Log in to access your order history.")}),(0,a.jsx)(de.B,{variant:"secondary",onClick:()=>t.promptLogin(),children:e("Log in")})]})]})},Ee=r(17864),ze=r(76409),Ze=r(73721),Ge=r(48042),Re=r(17946);const Me=n.default.div.withConfig({displayName:"OrderDetailsstyles__Card",componentId:"sc-8wy2o-0"})(["border-radius:",";"],(e=>{let{theme:t}=e;return t.borderRadius})),We=n.default.div.withConfig({displayName:"OrderDetailsstyles__Heading",componentId:"sc-8wy2o-1"})(["display:flex;flex-direction:column;margin:"," 0;gap:",";"],(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return t.spacing[8]})),Ye=n.default.div.withConfig({displayName:"OrderDetailsstyles__HeadingRow",componentId:"sc-8wy2o-2"})(["display:flex;gap:",";flex-direction:column;","{gap:",";align-items:flex-end;flex-direction:row;}"],(e=>{let{theme:t}=e;return t.spacing[8]}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop}),(e=>{let{theme:t}=e;return t.spacing[32]})),Ve=(0,n.default)(Me).withConfig({displayName:"OrderDetailsstyles__ShippingSummary",componentId:"sc-8wy2o-3"})(["display:flex;flex-direction:column;margin-bottom:",";"," & > *{flex:1;padding:",";&:not(:last-child){border-bottom:solid 1px ",";}}","{flex-direction:row;& > *{&:not(:last-child){border-bottom:0;border-right:solid 1px ",";}}}"],(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return(0,n.css)(["border:solid 1px ",";"],t.color.lightGray2)}),(e=>{let{theme:t}=e;return t.spacing[24]}),(e=>{let{theme:t}=e;return t.color.lightGray2}),(e=>{let{theme:t}=e;return t.mediaQuery.tablet}),(e=>{let{theme:t}=e;return t.color.lightGray2})),Ue=n.default.div.withConfig({displayName:"OrderDetailsstyles__SupportContainer",componentId:"sc-8wy2o-4"})(["display:flex;margin-bottom:",";font-weight:bold;svg{margin-right:",";}"],(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return t.spacing[8]})),Je=n.default.div.withConfig({displayName:"OrderDetailsstyles__ShippingSummaryHeading",componentId:"sc-8wy2o-5"})(["display:flex;gap:",";align-items:center;margin-bottom:",";","{flex-direction:column;align-items:flex-start;gap:",";}"],(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.mediaQuery.tablet}),(e=>{let{theme:t}=e;return t.spacing[8]})),Ke=(0,n.default)(x.T).attrs({variant:"title"}).withConfig({displayName:"OrderDetailsstyles__ShippingSummaryTitle",componentId:"sc-8wy2o-6"})(["margin:0;"]),Xe=(0,n.default)(Me).withConfig({displayName:"OrderDetailsstyles__ItemsSummary",componentId:"sc-8wy2o-7"})(["margin-bottom:",";& > *{&:first-child{border-bottom:solid 1px ",";padding-bottom:",";}}","{"," & > *{padding:",";&:first-child{padding:",";}&:first-child{margin:0;border-bottom:solid 1px ",";}}}"],(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return t.color.lightGray2}),(e=>{let{theme:t}=e;return t.spacing[8]}),(e=>{let{theme:t}=e;return t.mediaQuery.tablet}),(e=>{let{theme:t}=e;return(0,n.css)(["border:solid 1px ",";margin-bottom:",";"],t.color.lightGray2,t.spacing[32])}),(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.color.lightGray2})),et=n.default.div.withConfig({displayName:"OrderDetailsstyles__ItemsSummaryTitle",componentId:"sc-8wy2o-8"})(["display:flex;justify-content:space-between;flex-direction:column;","{flex-direction:row;}"],(e=>{let{theme:t}=e;return t.mediaQuery.tablet})),tt=(0,n.default)(x.T).attrs({variant:"caption"}).withConfig({displayName:"OrderDetailsstyles__ShipmentCount",componentId:"sc-8wy2o-9"})(["display:flex;align-items:center;margin-top:",";","{margin-top:0;}"],(e=>{let{theme:t}=e;return t.spacing[4]}),(e=>{let{theme:t}=e;return t.mediaQuery.tablet})),rt=(0,n.default)(Me).withConfig({displayName:"OrderDetailsstyles__OrderSummary",componentId:"sc-8wy2o-10"})(["background-color:",";margin-bottom:",";& > *{padding:"," ",";&:not(:last-child){margin:0;border-bottom:solid 1px ",";}}"],(e=>{let{theme:t}=e;return t.color.lightGray4}),(e=>{let{theme:t}=e;return t.spacing[32]}),(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.spacing[24]}),(e=>{let{theme:t}=e;return t.color.lightGray2})),it=n.default.div.withConfig({displayName:"OrderDetailsstyles__OrderSummaryTable",componentId:"sc-8wy2o-11"})(["display:flex;flex-direction:column;padding-bottom:",";"],(e=>{let{theme:t}=e;return t.spacing[8]})),nt=n.default.div.withConfig({displayName:"OrderDetailsstyles__OrderSummaryRow",componentId:"sc-8wy2o-12"})(["display:flex;justify-content:space-between;margin-bottom:",";"],(e=>{let{theme:t}=e;return t.spacing[8]})),st=(0,n.default)(nt).withConfig({displayName:"OrderDetailsstyles__SubTaxRow",componentId:"sc-8wy2o-13"})(["margin-left:",";"],(e=>{let{theme:t}=e;return t.spacing[8]})),lt=n.default.div.withConfig({displayName:"OrderDetailsstyles__AddressContainer",componentId:"sc-8wy2o-14"})(["margin-top:",";"],(e=>{let{theme:t}=e;return t.spacing[16]})),at=n.default.div.withConfig({displayName:"OrderDetailsstyles__BillingContainer",componentId:"sc-8wy2o-15"})(["margin-top:",";"],(e=>{let{theme:t}=e;return t.spacing[16]})),ot=n.default.div.withConfig({displayName:"OrderDetailsstyles__ShippingContainer",componentId:"sc-8wy2o-16"})(["margin-top:",";"],(e=>{let{theme:t}=e;return t.spacing[16]})),dt=n.default.div.withConfig({displayName:"OrderDetailsstyles__TrackingContainer",componentId:"sc-8wy2o-17"})(["margin-top:",";"],(e=>{let{theme:t}=e;return t.spacing[8]})),ct=n.default.span.withConfig({displayName:"OrderDetailsstyles__Label",componentId:"sc-8wy2o-18"})(["font-weight:bold;"]),ut=(0,n.default)(v.P).attrs((e=>({regPrice:e.regPrice}))).withConfig({displayName:"OrderDetailsstyles__Amount",componentId:"sc-8wy2o-19"})(["& > *{margin-bottom:0;}"]);function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){(0,B.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ht=e=>{var t,r,n,l,d;let{order:u,customer:y}=e;const f=(0,m.i1)(),{text:v}=f,j=(0,g.useRouter)(),b=(0,m.xe)(),w=new Date(u.date).toLocaleString(j.locale,{month:"2-digit",day:"2-digit",year:"numeric"}),{currency:P,totals:_,type:C}=u,k=(0,p.T4)(_.grand,P,f),I=(0,p.T4)(_.sub,P,f),N=(0,p.T4)(_.tax,P,f),O=(0,p.T4)(_.shipping,P,f);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h5,{title:"Order details",children:(0,a.jsxs)(oe.B,{currentPage:j.asPath,children:[(0,a.jsx)(h.Z,{href:"/",children:(0,a.jsx)("a",{children:v("Home")})}),(0,a.jsx)(h.Z,{href:"/orders",children:(0,a.jsx)("a",{children:v("Purchase history")})}),(0,a.jsx)(h.Z,{href:`/orders/${u.id}/`,children:(0,a.jsx)("a",{children:`${v("Order #")} ${u.id}`})})]})}),(0,a.jsxs)(s.He,{children:["physical"===C?(0,a.jsx)(We,{children:(0,a.jsxs)(Ye,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(H,{status:u.status})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ct,{children:v("Transaction date:")})," ",w]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ct,{children:v("Order total:")})," ",k]})]})}):(0,a.jsxs)(We,{children:[(0,a.jsxs)(Ye,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ct,{children:v("Transaction date:")})," ",w]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ct,{children:v("Order total:")})," ",k]})]}),(0,a.jsxs)(Ye,{children:[u.platform&&(0,a.jsxs)("div",{children:[(0,a.jsx)(ct,{children:v("Device type:")})," ",u.platform]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ct,{children:v("Associated Nintendo Account:")})," ",null===y||void 0===y?void 0:y.email]})]})]}),"physical"===C?(0,a.jsxs)(Ve,{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(Je,{children:[(0,a.jsx)(Ee.Z,{}),(0,a.jsx)(Ke,{children:v("Shipping address")})]}),(0,a.jsxs)("div",{children:[u.shipping.firstName," ",u.shipping.lastName]}),(0,a.jsx)("div",{children:u.shipping.telephone}),(0,a.jsxs)(lt,{children:[(0,a.jsx)("div",{children:u.shipping.country}),(0,a.jsx)("div",{children:u.shipping.street}),(0,a.jsxs)("div",{children:[u.shipping.city,", ",u.shipping.region," ",u.shipping.postcode]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(Je,{children:[(0,a.jsx)(ze.Z,{}),(0,a.jsx)(Ke,{children:v("Billing details")})]}),(0,a.jsxs)("div",{children:[u.billing.firstName," ",u.billing.lastName]}),(0,a.jsx)("div",{children:u.billing.telephone}),(0,a.jsxs)(lt,{children:[(0,a.jsx)("div",{children:u.billing.country}),(0,a.jsx)("div",{children:u.billing.street}),(0,a.jsxs)("div",{children:[u.billing.city,", ",u.billing.region," ",u.billing.postcode]})]}),u.payment.last4?(0,a.jsx)(at,{children:(0,a.jsxs)("div",{children:[v("Card ending in")," ",u.payment.last4]})}):null]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(Je,{children:[(0,a.jsx)(Ze.Z,{}),(0,a.jsx)(Ke,{children:v("Shipping method")})]}),(0,a.jsx)("div",{children:u.shipping.method}),(0,a.jsx)("div",{children:O}),(0,a.jsx)(ot,{children:u.shipments.length?1===u.shipments.length?u.shipments[0].tracking.map((e=>(0,a.jsx)(dt,{children:(0,a.jsx)(kt,{tracking:e})},e.number))):v("{0} tracking: See list below",{args:[null===(t=u.shipments[0])||void 0===t||null===(r=t.tracking)||void 0===r||null===(n=r[0])||void 0===n||null===(l=n.carrier)||void 0===l?void 0:l.toUpperCase()]}):null})]})]}):null,(0,a.jsxs)(Ue,{children:[v("Need a hand?"),(0,a.jsx)(Ge.S,{size:4,axis:"horizontal"}),(0,a.jsx)(be.D,{href:"https://en-americas-support.nintendo.com/app/contact",target:"_blank",children:v("Contact Customer Support")})]}),u.shipments.map(((e,t)=>{const{items:r}=e,[i]=e.tracking;return(0,a.jsxs)(Xe,{children:[(0,a.jsxs)(et,{children:[(0,a.jsx)(kt,{tracking:i,variant:"title"}),(0,a.jsxs)(tt,{children:[v("{0} of {1}",{args:[t+1,u.shipments.length]})," ","(",r.length,")"]})]}),(0,a.jsx)("div",{children:r.map((e=>{const t=e.bundleName||e.name,r=e.bundleName?e.name:null;return(0,a.jsx)(Ct,{finalPricePerItem:e.finalPricePerItem,quantity:e.quantity,name:t,subtitle:r,image:e.image,currency:u.currency,type:C,hidePrice:!0},`order-${e.sku}`)}))})]},e.number)})),"physical"===C?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(rt,{children:[(0,a.jsx)(x.T,{variant:"title",children:v("Order summary")}),(0,a.jsxs)(it,{children:[(0,a.jsxs)(nt,{children:[(0,a.jsx)("b",{children:v("Item(s) subtotal")}),(0,a.jsx)("b",{children:(0,a.jsx)(ut,{regPrice:I})})]}),(0,a.jsxs)(nt,{children:[(0,a.jsx)("b",{children:u.shipping.method}),(0,a.jsx)("b",{children:(0,a.jsx)(ut,{regPrice:O})})]}),(0,a.jsxs)(nt,{children:[(0,a.jsx)("b",{children:v("Tax")}),(0,a.jsx)("b",{children:(0,a.jsx)(ut,{regPrice:N})})]}),null===_||void 0===_||null===(d=_.taxes)||void 0===d?void 0:d.map((e=>{let{amount:t,label:r}=e;return(0,a.jsxs)(st,{children:[(0,a.jsx)(x.T,{variant:"caption",children:r}),(0,a.jsx)(x.T,{variant:"caption",children:(0,p.T4)(t,P,f)})]},r)}))]}),(0,a.jsxs)(nt,{children:[(0,a.jsx)("b",{children:v("Order total")}),(0,a.jsx)("b",{children:(0,a.jsx)(ut,{regPrice:k})})]})]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(rt,{children:(0,a.jsx)(it,{children:(0,a.jsxs)(nt,{children:[(0,a.jsx)("b",{children:v("Order total")}),(0,a.jsx)("b",{children:(0,a.jsx)(ut,{regPrice:k})})]})})})}),(0,a.jsxs)(Xe,{children:[(0,a.jsx)(x.T,{variant:"title",children:"physical"===C?(0,a.jsxs)("span",{children:[v("Order list")," (",u.items.length,")"]}):(0,a.jsx)("span",{children:v("Purchased item")})}),(0,a.jsx)("div",{children:u.items.map((e=>(0,i.createElement)(Ct,pt(pt({},e),{},{orderName:u.name,currency:u.currency,key:`order-${e.sku}`,type:C}))))})]})]}),(0,a.jsx)(o,{children:b.isLoggedIn?(0,a.jsx)(c.D,{href:"/orders",icon:Re.Z,locale:j.locale,children:v("Back to purchase history")}):(0,a.jsx)(c.D,{onClick:()=>j.reload(window.location.pathname),icon:Re.Z,locale:j.locale,children:v("Look up another order")})})]})},gt=r(92007),yt=r(29929);const ft=n.default.div.withConfig({displayName:"OrderItemstyles__Wrapper",componentId:"sc-werkqb-0"})(["display:flex;flex-direction:column;&:first-child{margin-top:",";}&:not(:last-child){padding-bottom:",";margin-bottom:",";border-bottom:1px solid ",";}","{flex-direction:row;&:not(:last-child){border-bottom:0;}}"],(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.spacing[16]}),(e=>{let{theme:t}=e;return t.color.lightGray2}),(e=>{let{theme:t}=e;return t.mediaQuery.tablet})),xt=n.default.div.withConfig({displayName:"OrderItemstyles__ImageAndDetails",componentId:"sc-werkqb-1"})(["display:flex;flex:1;"]),vt=(n.default.div.withConfig({displayName:"OrderItemstyles__Variation",componentId:"sc-werkqb-2"})(["font-size:",";font-weight:",";"],(e=>{let{theme:t}=e;return t.font.size.captionDesktop}),(e=>{let{theme:t}=e;return t.font.weight.light})),n.default.div.withConfig({displayName:"OrderItemstyles__Quantity",componentId:"sc-werkqb-3"})(["display:none;"])),jt=n.default.div.withConfig({displayName:"OrderItemstyles__DetailsWrapper",componentId:"sc-werkqb-4"})(["margin-left:",";& > ","{display:none;}","{& > ","{display:block;}}"],(e=>{let{theme:t}=e;return t.spacing[24]}),vt,(e=>{let{theme:t}=e;return t.mediaQuery.tablet}),vt),bt=n.default.div.withConfig({displayName:"OrderItemstyles__PriceAndQuantity",componentId:"sc-werkqb-5"})(["display:flex;margin-top:",";justify-content:space-between;& > ","{display:block;}","{margin-top:0;& > ","{display:none;}}"],(e=>{let{theme:t}=e;return t.spacing[16]}),vt,(e=>{let{theme:t}=e;return t.mediaQuery.tablet}),vt),wt=(n.default.div.withConfig({displayName:"OrderItemstyles__FinalPrice",componentId:"sc-werkqb-6"})(["display:flex;flex-direction:row;align-items:center;font-weight:",";& > img{margin-right:",";}"],(e=>{let{theme:t}=e;return t.font.weight.bold}),(e=>{let{theme:t}=e;return t.pxToRem(6)})),n.default.div.withConfig({displayName:"OrderItemstyles__RegularPrice",componentId:"sc-werkqb-7"})(["font-size:",";font-weight:",";text-decoration:line-through;display:flex;flex-direction:row;align-items:center;","{font-size:",";}"],(e=>{let{theme:t}=e;return t.font.size.captionMobile}),(e=>{let{theme:t}=e;return t.font.weight.light}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop}),(e=>{let{theme:t}=e;return t.font.size.captionDesktop}))),Pt=n.default.div.withConfig({displayName:"OrderItemstyles__PriceWrapper",componentId:"sc-werkqb-8"})(["display:flex;& > ","{margin-right:",";order:0;}","{display:flex;flex-direction:column;align-items:flex-end;& > ","{margin-right:0;order:1;}}"],wt,(e=>{let{theme:t}=e;return t.spacing[8]}),(e=>{let{theme:t}=e;return t.mediaQuery.desktop}),wt),_t=e=>{const t=(0,m.i1)(),{text:r}=t,{orderName:i,currency:n,finalPricePerItem:l,hidePrice:o,isDiscounted:d,image:c,name:u,quantity:h,regularPricePerItem:g,type:y,platinumPoints:f,subtitle:v}=e,j="physical"===y,b=(0,p.kF)(l,h),w=(0,p.kF)(g,h),P=(0,p.T4)(b,n,t),_=(0,p.T4)(w,n,t);return(0,a.jsxs)(ft,{children:[(0,a.jsxs)(xt,{children:[(0,a.jsx)(s.qN,{alt:u,assetPath:c||V.BY}),(0,a.jsxs)(jt,{children:[(0,a.jsx)(x.T,{variant:"title",as:"div",children:u||i}),v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ge.S,{size:4}),(0,a.jsx)(x.T,{variant:"caption",children:v})]}),(0,a.jsx)(vt,{children:(0,a.jsx)(x.T,{variant:"caption",children:j?(0,a.jsxs)(a.Fragment,{children:[r("Quantity:")," ",h]}):r("Digital download")})})]})]}),(0,a.jsxs)(bt,{children:[(0,a.jsx)(vt,{children:j?(0,a.jsxs)("span",{children:[r("Quantity:")," ",h]}):(0,a.jsx)("span",{children:r("Digital download")})}),j&&(o?null:(0,a.jsxs)(Pt,{children:[d&&(0,a.jsx)(wt,{children:_}),j&&f?(0,a.jsxs)(gt.G,{columns:"16px 1fr",justifyItems:"start",alignItems:"center",children:[(0,a.jsx)(yt.Z,{size:24}),(0,a.jsxs)("b",{children:[f," ",r("Platinum Points")]})]}):(0,a.jsx)("b",{children:P})]}))]})]})};_t.defaultProps={hidePrice:!1};var Ct=_t;var kt=e=>{var t;let{tracking:r,variant:i}=e;const{text:n}=(0,m.i1)();return(0,a.jsxs)(x.T,{variant:i,children:[n("{0} tracking",{args:[null===r||void 0===r||null===(t=r.carrier)||void 0===t?void 0:t.toUpperCase()]})," ",(0,a.jsx)(be.D,{href:r.url,target:"_blank",children:r.number})]})}},46090:function(e,t,r){r.d(t,{ZP:function(){return d}});var i=r(59499),n=r(87166);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const a=e=>{var t,r,i,n,s,l,a,o,d,c,u,m,p;return{sku:null===(t=e.product)||void 0===t?void 0:t.sku,name:null===(r=e.product)||void 0===r?void 0:r.name,image:null===(i=e.product)||void 0===i||null===(n=i.productImage)||void 0===n?void 0:n.publicId,isDiscounted:null===(s=e.product)||void 0===s||null===(l=s.prices)||void 0===l||null===(a=l.minimum)||void 0===a?void 0:a.discounted,finalPricePerItem:e.productSalePrice,regularPricePerItem:null===(o=e.product)||void 0===o||null===(d=o.prices)||void 0===d||null===(c=d.minimum)||void 0===c?void 0:c.regularPrice,platform:null===(u=e.product)||void 0===u||null===(m=u.platform)||void 0===m?void 0:m.label,quantity:e.quantityOrdered,amount:e.productSalePrice,platinumPoints:null===(p=e.product)||void 0===p?void 0:p.platinumPoints}},o=e=>(e.items||[]).reduce(((t,r)=>{var i,n,s,o,d,c,u,m,p,h,g,y,f,x;let{orderItem:v,parentSku:j}=r;if(v.productSku.split("-").length>2)return t;const b=e.items.find((e=>{let{orderItem:t}=e;return t.productSku===j}));return[...t,l(l({},a(l(l({},v),{},{productSalePrice:(null===b||void 0===b||null===(i=b.orderItem)||void 0===i||null===(n=i.product)||void 0===n||null===(s=n.prices)||void 0===s||null===(o=s.minimum)||void 0===o?void 0:o.regularPrice)||(null===v||void 0===v||null===(d=v.product)||void 0===d||null===(c=d.prices)||void 0===c||null===(u=c.minimum)||void 0===u?void 0:u.regularPrice)}))),{},{image:b?null===(m=b.orderItem)||void 0===m||null===(p=m.product)||void 0===p||null===(h=p.productImage)||void 0===h?void 0:h.publicId:null===v||void 0===v||null===(g=v.product)||void 0===g||null===(y=g.productImage)||void 0===y?void 0:y.publicId,quantity:v.quantityShipped,parentSku:j,bundleName:null===b||void 0===b||null===(f=b.orderItem)||void 0===f||null===(x=f.product)||void 0===x?void 0:x.name})]}),[]);function d(e,t){var r,i,s,l,d,c,u,m,p,h,g,y,f,x,v,j,b,w,P,_,C,k,I,N,O,T,q;const S=e.items.map(a),D=null===(r=e.shipments)||void 0===r?void 0:r.map((e=>((e,t)=>{const r=(0,n.$w)(t);return{number:e.number,items:o(e),tracking:e.tracking.map((e=>((e,t)=>{const r={en:{fedex:`https://www.fedex.com/apps/fedextrack/?action=track&trackingnumber=${e.number}`,ups:`https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=${e.number}`,"ups mi":`https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=${e.number}`,usps:`https://tools.usps.com/go/TrackConfirmAction_input?qtc_tLabels1=${e.number}`,puro:`https://www.purolator.com/${t}/shipping/tracker?pin=${e.number}`,"canada post":`https://www.canadapost-postescanada.ca/track-reperage/${t}#/search?searchFor=${e.number}`},fr:{fedex:`https://www.fedex.com/apps/fedextrack/?action=track&trackingnumber=${e.number}`,ups:`https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=${e.number}`,"ups mi":`https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=${e.number}`,usps:`https://tools.usps.com/go/TrackConfirmAction_input?qtc_tLabels1=${e.number}`,puro:`https://www.purolator.com/${t}/expedition/faire-le-suivi-dun-envoi?pin=${e.number}`,"canada post":`https://www.canadapost-postescanada.ca/track-reperage/${t}#/search?searchFor=${e.number}`}};return{title:e.title,number:e.number,carrier:e.carrier,url:r[t][e.carrier]||"#"}})(e,r)))}})(e,t)));return{id:e.id||e.number,name:S[0].name||e.contentName,type:"StoreOrder"==e.__typename||"GuestOrder"==e.__typename?"physical":"digital",date:e.orderDate,amount:e.total.grandTotal,platform:S[0].platform,image:S[0].image,status:e.status||null,billing:{firstName:null===(i=e.billingAddress)||void 0===i?void 0:i.firstName,lastName:null===(s=e.billingAddress)||void 0===s?void 0:s.lastName,street:null===(l=e.billingAddress)||void 0===l?void 0:l.street,city:null===(d=e.billingAddress)||void 0===d?void 0:d.city,postcode:null===(c=e.billingAddress)||void 0===c?void 0:c.postcode,region:null===(u=e.billingAddress)||void 0===u||null===(m=u.region)||void 0===m?void 0:m.name,country:null===(p=e.billingAddress)||void 0===p||null===(h=p.country)||void 0===h?void 0:h.fillNameEnglish},shipping:{firstName:null===(g=e.shippingAddress)||void 0===g?void 0:g.firstName,lastName:null===(y=e.shippingAddress)||void 0===y?void 0:y.lastName,street:null===(f=e.shippingAddress)||void 0===f?void 0:f.street,city:null===(x=e.shippingAddress)||void 0===x?void 0:x.city,postcode:null===(v=e.shippingAddress)||void 0===v?void 0:v.postcode,region:null===(j=e.shippingAddress)||void 0===j||null===(b=j.region)||void 0===b?void 0:b.name,country:null===(w=e.shippingAddress)||void 0===w||null===(P=w.country)||void 0===P?void 0:P.fillNameEnglish,method:e.shippingMethod,carrier:null===(_=e.shipments)||void 0===_||null===(C=_.tracking)||void 0===C?void 0:C.carrier,number:null===(k=e.shipments)||void 0===k||null===(I=k.tracking)||void 0===I?void 0:I.number,title:null===(N=e.shipments)||void 0===N||null===(O=N.tracking)||void 0===O?void 0:O.title},payment:{type:null===(T=e.paymentMethod)||void 0===T?void 0:T.type,last4:null===(q=e.paymentMethod)||void 0===q?void 0:q.last4},totals:{grand:e.total.grandTotal,sub:e.total.subtotal,tax:e.total.totalTax,taxes:e.total.taxes,shipping:e.total.totalShipping},shipments:D||[],items:S}}}}]);